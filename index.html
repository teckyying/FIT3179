<!DOCTYPE html>
<html>
  <head>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
    <!-- Import vega-embed -->
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
   
    <!-- Import pure.css -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">
  </head>

  <body>
     <!-- Header for title of visualisation -->
    <div class = 'mainHeader'>
      <h1>Happiness Across The World</h1>
    </div>
   
    
    <div class="intro_1">
      <P>
        Money cannot buy happiness - at least six other factors are critical for nations to have happy people.
      </P> 
    </div>

    <div class = "intro_2">
      <p>  
        <em>
        How happy are people today? Were people happier in the past? How satisfied with their lives are people in different countries? How do our living conditions affect our happiness? 
      </em>
      </p> 
      <p>
        These are difficult questions to answer, but they are questions that undoubtedly matter for each of us personally.  
        Every year the World Happiness Report surveys <strong>156 countries</strong> and ranks them according to how happy they are. This report is a 
        publication by the Sustainable Development Solutions Network. The scores are instead based on <strong>individuals’ own assessments of their lives</strong> , 
        revealed by their answers to the Cantril ladder question that invites survey participants to imagine their current position on a ladder with
        steps numbered from 0 to 10, where the top represents the best possible and the bottom the
        worst possible life for themselves. 
        <p>
        Continue reading to find out more!
        </p>

      </p>
    </div>

    <div class="chloroplethmap"> 
      <div id="chloroplethmap"></div>
    </div>

  
    <div class = 'subheader1'>
      <h2>
        Happiest and Saddest Countries
      </h2>      
    </div>

    <div class="bar_and_line"> 
      <div id="horizontalBarChart_slopechart"></div>
    </div>


  <div class = 'subheader2'>
    <h2>
      Factors Affecting Happiness
    </h2>      
  </div> 

<div class = 'subheader2_info'>
  <p>In this section we will present how six key variables contribute to explaining the national average happiness scores and higher life evaluations in the year 2019.
    These variables are Gross Domestic Product (GDP) per capita, social support, healthy life expectancy, freedom, generosity, and absence of corruption. 
  </p>
 
  <p>
    Note that we do not construct our happiness measure in each country using these six variables. Rather, We use the six
    variables to explain the variation of happiness across countries.
  </p>
</div>



  <div class = "subheader2_graph">
    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-3">
        
        <div class="description description-left">
          
            <h2>GDP per capita</h2>
            <p class = "explanation1">
              GDP per capita is in terms of Purchasing
              Power Parity (PPP) adjusted to constant
              2011 international dollars, taken from
              the World Development Indicators
              (WDI) released by the World Bank on
              November 28, 2019.</p>

            <br>
            <h2>Social Support</h2>
            <p class = "explanation1">
                Social support is the national average to
                the Gallup World Poll (GWP) question, “If
                you were in trouble, do you have relatives
                or friends you can count on to help you
                whenever you need them, or not?”              
              </p>
              
              <br>
            <h2>Healthy Life Expentancy</h2>
            <p class = "explanation1">
              The time series of healthy life expectancy
              at birth are constructed based on data
              from the World Health Organization
              (WHO) Global Health Observatory data
              repository.
            </p>
           
            <br>
            <h2>Freedom To Make Life Choices</h2>
            <p class = "explanation1">
              Freedom to make life choices is the
              national average of binary responses
              to the GWP question, “Are you satisfied
              or dissatisfied with your freedom to
              choose what you do with your life?” 
            </p>
        
            <br>
            <h2>Generosity</h2>
            <p class = "explanation1">
            Generosity is the residual of regressing
            the national average of GWP responses
            to the question, “Have you donated
            money to a charity in the past month?”
            on GDP per capita. 
            </p>

            <br>
            <h2>Perceptions of Corruption</h2>
            <p class = "explanation1">
              Perceptions of corruption are the average
              of binary answers to two GWP questions:
              “Is corruption widespread throughout the
              government or not?” and “Is corruption
              widespread within businesses or not?”.
            </p>
        </div>
      </div>
      
      <div class="pure-u-2-3">
        <div class = "scatter_padding">
          
        <div id="scatterplot_zoom" class="vis-container"></div>
        </div>
      
    </div>
    <!-- end pure grid group -->
    </div>

  </div>

  <div class = 'subheader3'>
    <h2>
      Worldwide Average Happiness
    </h2>      
  </div> 


  <div class = "waterfall">
    <div id="waterfall"></div>
  </div>


  <script type="text/javascript">
    var chloroplethmap = "https://raw.githubusercontent.com/teckyying/FIT3179/master/js/chloropleth_top_coutries.json";
    var horizontalBarChart_slopechart = "https://raw.githubusercontent.com/teckyying/FIT3179/master/js/horizontalBarChart_slopechart.json";
    var scatterplot_zoom = "https://raw.githubusercontent.com/teckyying/FIT3179/master/js/scatterplot_zoom.vl.json";
    var waterfall = "https://raw.githubusercontent.com/teckyying/FIT3179/master/js/waterfall.json";

    vegaEmbed('#chloroplethmap', chloroplethmap, {
      "actions": false
    }).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    vegaEmbed('#horizontalBarChart_slopechart', horizontalBarChart_slopechart, {
      "actions": false
    }).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    vegaEmbed('#scatterplot_zoom', scatterplot_zoom, {
      "actions": false
    }).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    vegaEmbed('#waterfall', waterfall, {
      "actions": false
    }).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
  </script>

  </body>
</html>